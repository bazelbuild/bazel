---
tasks:
  # This task actually runs Rocky Linux 8 (OpenJDK 11, gcc 10.2.1)
  centos7_java11_devtoolset10:
    build_flags:
      - "--config=bzlmod"
    build_targets:
      - "//src:bazel_nojdk"
  ubuntu1804:
    build_flags:
      - "--config=bzlmod"
    build_targets:
      - "//src:bazel_nojdk"
  ubuntu1804_clang:
    platform: ubuntu1804
    environment:
      CC: clang
      CC_CONFIGURE_DEBUG: 1
    name: "Clang"
    build_flags:
      - "--config=bzlmod"
    build_targets:
      - "//src:bazel_nojdk"
  ubuntu2004_java11:
    build_flags:
      - "--config=bzlmod"
    build_targets:
      - "//src:bazel_nojdk"
  macos:
    xcode_version: "16.2.0"
    build_flags:
      - "--config=bzlmod"
    build_targets:
      - "//src:bazel_nojdk"
  windows:
    build_flags:
      - "--config=bzlmod"
    build_targets:
      - "//src:bazel_nojdk.exe"
